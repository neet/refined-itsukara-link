scalar Date

interface Node {
  id: ID!
}

type PageInfo {
  # Whether or not there are next pages
  hasNextPage: Boolean!
  # Whether or not there are previous pages
  hasPreviousPage: Boolean!
  # First cursor of the connection
  startCursor: String
  # Last cursor of the connection
  endCursor: String
  # Total count
  totalCount: Int
}

type Activity implements Node {
  # ID of the activity
  id: ID!
  # Name of the activity
  name: String!
  # Description of the streaming
  description: String!
  # Whether public
  public: Int!
  # URL of the activity
  url: String!
  # Thumbnail of the activity
  thumbnail: String!
  # Start date time on ISO 8601
  startAt: Date!
  # End date time on ISO 8601
  endAt: Date!
  # Created date time
  createdAt: Date!
  # Updated date time
  updatedAt: Date!
  # Sources of the activity
  performers: [Performer!]!
  # Associated category
  category: Category
  # Matched team
  team: Team
}

type ActivityConnection {
  edges: [ActivityEdge!]!
  nodes: [Activity!]!
  pageInfo: PageInfo!
}

type ActivityEdge {
  cursor: String!
  node: Activity!
}

type Performer implements Node {
  # ID of the performer
  id: ID!
  # Name of the performer
  name: String!
  # Romanized name of the performer
  latinName: String!
  # Ruby for name of the performer
  ruby: String!
  # URL of the avatar for the performer
  avatar: String!
  # URL of the full-body image for the performer
  fullBody: String!
  # Hex colour code
  color: String!
  # Description of the performer
  description: String!
  # If the  performer is public
  public: Int!
  # Unknown...
  position: Int
  # Created date time
  createdAt: Date!
  # Updated date time
  updatedAt: Date!
  # External services' information
  socialAccounts: [SocialAccount!]!
  # Involved teams
  teams: [Team!]!
  # Activities
  activities: ActivityConnection!
}

type PerformerConnection {
  edges: [PerformerEdge!]!
  nodes: [Performer!]!
  pageInfo: PageInfo!
}

type PerformerEdge {
  cursor: String!
  node: Performer!
}

type Team implements Node {
  # ID of the team
  id: ID!
  # Name of the team
  name: String!
  # Created date time
  createdAt: Date!
  # Updated date time
  updatedAt: Date!
  # Involved performers
  members: [Performer!]!
  # Activities
  activities: ActivityConnection!
}

type TeamConnection {
  edges: [TeamEdge!]!
  nodes: [Team!]!
  pageInfo: PageInfo
}

type TeamEdge {
  cursor: String!
  node: Team!
}

type Category implements Node {
  # ID of the category
  id: ID!
  # name
  name: String!
  # Activities
  activities: ActivityConnection!
}

type CategoryConnection {
  edges: [CategoryEdge!]!
  nodes: [Category!]!
  pageInfo: PageInfo!
}

type CategoryEdge {
  cursor: String!
  node: Category!
}

interface SocialAccount {
  # Internal ID of the channel
  id: ID!
  # Created date time
  createdAt: Date!
  # Updated date time
  updatedAt: Date!
}

type YoutubeAccount implements Node & SocialAccount {
  # Internal ID of the channel
  id: ID!
  # ID of the channel
  channelId: ID!
  # Name of the channel
  channelName: String!
  # Order of creation
  creationOrder: Int!
  # Created date time
  createdAt: Date!
  # Updated date time
  updatedAt: Date!
}

type TwitterAccount implements Node & SocialAccount {
  # Internal ID of the channel
  id: ID!
  # Screenname of the account like @twitter
  screenName: String!
  # Created date time
  createdAt: Date!
  # Updated date time
  updatedAt: Date!
}

type SearchResult {
  performers: [Performer!]!
  activities: [Activity!]!
  teams: [Team!]!
  categories: [Category!]!
}

input ActivitiesInput {
  first: Int
  last: Int
  after: String
  before: String
  performerId: ID
  teamId: ID
  categoryId: ID
  afterDate: Date
  beforeDate: Date
}

input PerformersInput {
  first: Int
  after: String
  last: Int
  before: String
}

input CategoriesInput {
  first: Int
  after: String
  last: Int
  before: String
}

input TeamsInput {
  first: Int
  after: String
  last: Int
  before: String
  performerId: ID
}

type Query {
  node(cursor: String!): Node
  search(query: String!): SearchResult!
  activity(id: ID!): Activity
  activities(input: ActivitiesInput): ActivityConnection!
  performer(id: ID!): Performer
  performers(input: PerformersInput): PerformerConnection!
  category(id: ID!): Category
  categories(input: CategoriesInput): CategoryConnection!
  team(id: ID!): Team
  teams(input: TeamsInput): TeamConnection!
}

schema {
  query: Query
}
